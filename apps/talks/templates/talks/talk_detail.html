{% extends 'core/base.html' %}

{% block title %}{{ talk.title }} - CharlaMente{% endblock %}

{% block content %}
   <div>
       <h2>{{ talk.title }}</h2>
       <p>Ponente: {{ talk.speaker }}</p>
       <p>Estado: {{ talk.get_status_display }}</p>
       
       {% if talk.status == 'failed' %}
           <div>
               <p>Error: {{ talk.error_message }}</p>
           </div>
       {% endif %}

       {% if talk.status == 'completed' %}
           {% if talk.summary %}
               <div class="summary-section">
                   <h3>Resumen</h3>
                   <div class="summary-content">
                       {{ talk.summary|linebreaks }}
                   </div>
               </div>
           {% endif %}

           {% if talk.transcript %}
               <div class="transcript-section">
                   <h3>Transcripción</h3>
                   <div class="transcript-content">
                       {{ talk.transcript|linebreaks }}
                   </div>
               </div>
           {% endif %}
       {% elif talk.status == 'processing' %}
           <p>Procesando la transcripción...</p>
       {% elif talk.status == 'pending' %}
           <p>En cola para procesar...</p>
       {% endif %}

       <a href="{% url 'talk_list' %}">Volver a mis charlas</a>
   </div>
{% endblock %}